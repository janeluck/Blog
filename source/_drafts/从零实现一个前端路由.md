---
title: 从零实现一个前端路由
tags: JavaScript
---


### 使用HTML5的`history`


#### history属性

+ length: 当前tab的session，长度包括当前页，新开tab的长度为1
+ state



#### 路由实现依赖:

+ pushState
+ replaceState
+ go
+ back
+ forward


+ window.onpopstate
  通过代码改变location并不能触发onpopstate






### react-router的实现

+ router结合history提供上下文
+ route渲染匹配的组件，通过componentWillReceiveProps控制state更新组件
+ matchPath处理url




### 参考链接

[WebApi-History](https://developer.mozilla.org/en-US/docs/Web/API/History)
[Npm-History](https://github.com/ReactTraining/history#readme)